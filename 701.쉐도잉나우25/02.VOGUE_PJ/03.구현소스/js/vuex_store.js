// ë·°ì—‘ìŠ¤ ìŠ¤í† ì•„ - ì „ì—­ë·°ë°ì´í„° ì €ì¥ì†Œ!!!

////// ë·°ì—‘ìŠ¤ ìŠ¤í† ì•„ë¥¼ í™œìš©í•œ ë³€ìˆ˜ ì…‹íŒ…í•˜ê¸° ///////
// [ë·°ì—‘ìŠ¤ ìŠ¤í† ì–´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤!!!] //////

// export const store = new Vuex.Store({
export default new Vuex.Store({
  // 1. ë°ì´í„° ì…‹íŒ…êµ¬ì—­
  state: {
    // ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ ê°ì²´ë³€ìˆ˜
    loginUser: {},
    // ë¡œê·¸ì¸ í™˜ì˜ë©”ì‹œì§€
    welcomeMsg: "",
    // ì•„ì´ì½˜ ê°ì²´(m-ë‚¨ì,w-ì—¬ì)
    iconSet: {
      w: ["ğŸ™â€â™€ï¸", "ğŸ¤¦â€â™€ï¸", "ğŸ’â€â™€ï¸", "ğŸ™†â€â™€ï¸", "ğŸ™‹â€â™€ï¸", "ğŸ¦¸â€â™€ï¸"],
      m: ["ğŸ™â€â™‚ï¸", "ğŸ™†â€â™‚ï¸", "ğŸ¤¦â€â™‚ï¸", "ğŸ¤·â€â™‚ï¸", "ğŸ’â€â™‚ï¸", "ğŸ¦¸â€â™‚ï¸"],
    },
    // ë¡œê·¸ì¸ í´ë˜ìŠ¤ (ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì „í™˜í´ë˜ìŠ¤)
    loginCls: '',
  },
  // 2. ë°ì´í„° ë³€ê²½ ë©”ì„œë“œ êµ¬ì—­
  // -> ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜¸ì¶œì‹œ commit() ì‚¬ìš©!
  mutations: {
    // ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸ ë©”ì„œë“œ
    setLogin(st, pm) {
      // st - stateê°ì²´, pm - ì „ë‹¬ê°’
      console.log("ë¡œê·¸ì¸ì…‹!", st, pm);
      // 1. stateë³€ìˆ˜ ì—…ë°ì´íŠ¸í•˜ê¸°

      // (1) ì‚¬ìš©ì ì •ë³´ ë³€ê²½
      st.loginUser = pm;

      // (2) í™˜ì˜ ë©”ì‹œì§€ ë³€ê²½ : ëœë¤ìˆ˜ë¡œ ì•„ì´ì½˜ë„£ê¸°
      st.welcomeMsg = 
      pm.name + "ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!"+
      st.iconSet[pm.gender][Math.floor(Math.random()*6)];
      
      // (3) ë¡œê·¸ì¸ë²„íŠ¼ ìˆ¨ê¸°ê¸°(ë¡œê·¸ì•„ì›ƒ ë³´ì´ê¸°)
      st.loginCls = 'login';
    },

    // ë¡œê·¸ì•„ì›ƒ ë©”ì„œë“œ /////////
    setLogout(st) {
      // st - stateê°ì²´
      console.log("ë¡œê·¸ì•„ì›ƒ!", st);
      // 1. stateë³€ìˆ˜ ì—…ë°ì´íŠ¸í•˜ê¸° : ëª¨ë‘ ì´ˆê¸°í™”!

      // (1) ì‚¬ìš©ì ì •ë³´ ë³€ê²½
      st.loginUser = {};

      // (2) í™˜ì˜ ë©”ì‹œì§€ ë³€ê²½
      st.welcomeMsg = '';

      // (3) ë¡œê·¸ì¸ë²„íŠ¼ ë³´ì´ê¸°
      st.loginCls = '';

      // (4) ë¡œê·¸ì¸ ì„¸ì…˜ìŠ¤ ì§€ìš°ê¸° 'login-user'
      sessionStorage.removeItem('login-user');
    },
  },
  // 3. ë¹„ë™ê¸°ì²˜ë¦¬ ë©”ì„œë“œ êµ¬ì—­
  // -> ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜¸ì¶œì‹œ dispatch() ì‚¬ìš©!
  actions: {},
}); /////////// Vuex.Store ///////////////
