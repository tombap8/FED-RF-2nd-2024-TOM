<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS4-1. 배열변수와 객체</title>
    <style>
      /* 동영상 주변 암전효과 박스 */
      body::before {
        content: "";
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.592);
      }
      /* body에 클래스 on 설정시 보임 */
      body.on::before {
        display: block;
      }
      h1 {
        text-align: center;
      }

      /* 정보출력박스 */
      .cont {
        width: 1000px;
        height: 80px;
        border: 2px solid #000;
        text-align: center;
        white-space: nowrap;
        line-height: 84px;
        margin: 5px auto;
        font-size: 24px;
      }
      /* 초이스 버튼 클래스 on  */
      .choice button.on {
        border: 4px solid red;
        border-radius: 10px;
        background-color: navy;
        color: #fff;
        font-weight: bold;
        transform: scale(1.2);
      }
    </style>
    <script>
      // 로딩구역 ///////////////////
      // DOMContentLoaded 는 HTML 태그로딩후
      // 발생하는 이벤트임(load 이벤트와 비교)
      window.addEventListener("DOMContentLoaded", loadFn);

      /**********************************
                 함수명 : loadFn
                 기능 :  로딩후 실행함수            
            **********************************/
      function loadFn() {
        // 1. 함수호출확인!
        console.log("로딩완료");

        // 2. 출력대상 :  .cont
        const target = document.querySelectorAll(".cont");

        console.log("타겟:", target);

        /********************************************** 
                [ 배열(Array) 변수란? ]

                - 여러개의 데이터를 묶음으로 변수하나에 저장함
                - 장점: 데이터를 취급하고 다루는데 편의성 제공
                - 각 데이터를 하나의 이름으로 구분하여 호출할
                수 있는 메모리공간이다!
                (예: 계란한판, 아파트 등)

                [ 배열의 선언의 2가지 방식 ]

                1. new 키워드 선언방식
                - new Array()
                객체를 실제로 메모리안에 생성하는 방법을 제공
                이를 인스턴스(instance)라고 함!

                2. 리터럴 선언방식 (배열리터럴)
                - 변수 = []


                - 객체란 속성과 메서드를 가지고 있는 프로그램 단위체
                - 객체는 독립된 특성을 가지고 있어야함!

                예컨데 자동차, 볼펜, 물통, 가방 등
                독립된 별도의 기능이 있어야하고 명사적특징과
                동사적 특징이 모두 있어야 객체다!

            **********************************************/

        // 3. 내용출력하기 /////
        // 3-1. new 키워드와 함깨 배열선언,할당하기
        const arr1 = new Array(
          "1993년 10월 12일",
          "183cm",
          "65kg",
          "너도 인간이니?,치인트",
          4528,
          "서강준"
        );

        // new  키워드로 선언과 할당을 동시에 할 수 있다!
        // 소괄호안에 콤마로 값을 구분하여 사용함

        // 배열변수에 할당한 데이터 불러오기
        // 호출방법 : 배열변수명[순번] -> 순번은 0부터

        console.log("arr1:", arr1, typeof arr1);
        console.log("arr1은 배열인가?:", Array.isArray(arr1));
        // typeof(변수) / typeof 변수 -> 데이터형 출력
        // ->숫자는 number/문자는 string/배열,객체는 object 라고 찍힘
        // 배열일 경우 object 라고 출력됨.
        // 객체일 경우도 object 라고 출력되기때문에
        // 배열인지 알고자 할 경우 Array.isArray(변수)
        // 를 사용하여 변수여부확인 가능!

        // 출력대상 : target[0]
        target[0].innerHTML = `
            이름:${arr1[5]} / 
            키:${arr1[1]} / 
            몸무게:${arr1[2]} / 
            대표작:${arr1[3]}
        `;

        // 3-2. 배열리터럴 방식의 선언과 할당
        // 배열변수명 = [값1,값2,값3,...]
        // new 키워드 없이 바로 쓸 수 있는 객체임
        // 이런 배열과 같은 객체를 정적객체(Static Object)라고 함!

        const arr2 = [
          "삼일절",
          "태극기",
          1919,
          function () {
            alert("대한독립만세!!!");
            console.log("this는 누구?", this);
            // this 는 호출한 요소 자신!
            this.style.background =
              "url(https://blog.kakaocdn.net/dn/H4k8p/btqUUqx7TLT/VAMfjsV79wqyKIfOGXn5P0/img.jpg) repeat-x 0/auto 100%";
            // 트랜스폼 변경하기
            this.style.transform = "scale(1.5) rotate(720deg)";
            // 트랜지션
            this.style.transition = "2s ease-in-out";
          },
        ];
        // 배열끝의 콤마는 원래는 쓰면 에러나지만
        // 최신브라우저에서 에러안나도록 처리됨!
        // 요즘은 추가 배열데이터를 위해 마지막콤마를
        // 쓰는것이 일반적임!

        // function (){} 익명함수 -  이름없고 코드만 저장
        // -> 배열값으로 문자,숫자,배열,객체,함수 등 사용가능!

        console.log("arr2는 배열인가?", Array.isArray(arr2));

        // 출력대상 : target[1]
        target[1].innerHTML = `
            ${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다!
        `;

        // 툴팁 띄우기
        target[1].title = "만세를 하시려면 클릭하세요!";

        // 손가락모양 커서
        target[1].style.cursor = "pointer";

        // 배열의 함수를 클릭이벤트에 연결하기
        target[1].onclick = arr2[3];

        // 3-3.  배열을 미리 생성하여 각각 할당하기
        // 배열변수명 = [] -> 배열리터럴!
        // 배열변수명.length = 숫자 -> 숫자만큼 배열이 생성됨
        // 배열변수명.length 는 배열개수를 읽기/쓰기 모두 가능함!

        const arr3 = [];
        // const 상수로 리터럴 선언, 할당후
        // 배열값 변경은 자유롭다~!
        // 그러나 배열형을 변경할 수 없다! 재할당불가!
        // 그래서 상수임!(코드보안상,안전상 이유로 많이씀)

        // 배열개수 미리 셋팅하기
        arr3.length = 8;
        // 중요: 배열개수를 미리 셋팅했어도 더 추가가
        // 얼마든지 가능하다!

        console.log("arr3 배열개수:", arr3);

        // 각 배열주소에 값을 할당하기!
        arr3[0] = "산";
        arr3[1] = "할아버지";
        arr3[2] = "구름모자";
        arr3[3] = "썼네~!";
        arr3[4] = "나비같이";
        arr3[5] = "훨훨";
        arr3[6] = "훠얼훨";
        arr3[7] = "날아서~!";

        // 배열값 전체찍기 : valueOf()
        console.log("arr3배열전체값:", arr3.valueOf());
        console.log("arr3배열전체값:", arr3);
        // 참고로 변수만 찍어도 브라우저가 valueOf()를 찍어줌!

        // 변수값 사이에 구분자를 넣고 문자형으로
        // 배열값을 변경하기!
        // join(구분자) -> 구분자를 넣고 문자값생성
        console.log("arr3배열 구분자로 문자찍기:", arr3.join("^"));

        // 배열값 맨뒤에 동적으로 배열값 추가하기
        // push(값) -> 배열맨뒤에 값을 추가하는 메서드
        arr3.push("김창완작사");

        // 배열값 사이에 별(★)을 넣어서 출력하기
        // 출력대상 : target[2]
        target[2].innerHTML = arr3.join("★");

        // -> 배열메서드는 중요하므로 별도로 훈련함!

        /******************************************** 
                [ 객체(Object) 란? ]

        - 일반적으로 JS에서 객체란 속성과 메서드를
        가지는 프로그램 단위체
        - 속성은 명사적 특징, 메서드는 동사적 특징
        객체예)
        https://www.w3schools.com/js/js_objects.asp
        - 자동차의 명사적특징: 핸들, 백미러, 트렁크, 바퀴 등
        - 자동차의 동사적특징: 운전하다, 멈추다, 주차하다 등

        (참고: 브라우저에 이미 만들어져 있는 객체들)
        -> 내장객체라고함!
        -> 브라우저 내장객체-> 봄(BOM:Browser Object Model)
        -> https://www.w3schools.com/js/js_window.asp

        window : 윈도우(브라우저화면) 표시 관련객체
        document : 문서구조에 관련된 객체
        Array : 배열객체
        Object : 객체를 만들기 위한 객체
        Date : 날짜객체
        Math : 수학객체
        ___________________________________

        ->>> 내장객체 중 객체를 만들기위한 객체인 Object를
        사용하여 객체를 만들어보자!

        [ 객체의 선언의 2가지 방식 ]
        1. new 키워드 선언방식
        - new Object()

        2. 리터럴 선언방식(객체리터럴)
        - 변수 = {}

        [ 객체의 할당 ]
        - 중괄호{}를 사용하여 할당코딩을 함
        - {속성명:값,속성명:값,...}
        - 여러값을 셋팅할때 콤마로 구분한다
        - 배열과 비교해서 이해하기 쉽고 호출하기 쉽다!
        - 객체 스타일로 데이터 구조를 만들고
        이런 파일로 DB와 데이터 통신을 한다!
        이 파일의 이름은? 제이슨(JSON:확장자.json)

        [ 객체의 호출 ]
        - 객체명[속성명]
        또는
        - 객체명.속성명

    ********************************************/

        // 4. 객체를 선언하여 생성해 보자!
        // new Object()를 사용하여 생성
        // 배열과 마찬가지로 객체는 형식이
        // 변경되지 않도록 let보다는 const를 많이씀!

        const SSG = new Object({
          "너의 이름은?": "손석구",
          생일: "1983년 2월 7일",
          키: "178cm",
          몸무게: "80kg",
          혈액형: "C형",
          성별: "남성",
          대표작: "나의 해방일지,범죄도시2",
          소속사: " 셋별당엔터",
          비밀번호: 7777,
          팬레터: function () {},
        }); 

        // 객체확인
        console.log('석구객체:',SSG);

        // 객체출력하기
        // 출력대상: target[3]
        target[3].innerHTML = `
            당신이 좋아하는 남자배우는?
            ${SSG["너의 이름은?"]}
            / 몸무게를 아세요? ${SSG.몸무게} <br>
            생년월일은? ${SSG["생일"]}  
            / 대표작은? ${SSG["대표작"]} 
        `;

        // 2줄이니까 줄간격 조정
        target[3].style.lineHeight = "40px";

      } /////////// loadFn 함수 //////////
      ////////////////////////////////////
    </script>
  </head>

  <body>
    <h1>JS4-1. 배열변수와 객체</h1>

    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
  </body>
</html>
