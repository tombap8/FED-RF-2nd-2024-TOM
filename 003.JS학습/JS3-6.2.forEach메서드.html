<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>forEach 메서드</title>
    <script>
      // 배열 만들기
      // 배열구성 [제목,주연,내용]
      const mv1 = [
        "조제",
        "한지민(조제), 남주혁(영석)",
        "자신을 ‘조제’로 불러달라는 그녀처음 만난 그날부터 ‘조제’는 ‘영석’에게 잊을 수 없는 이름으로 남는다.할머니와 단둘이 사는 집, 그곳에서 책을 읽고 상상하며자신만의 세계를 살고 있는 ‘조제’.우연히 만난 그녀에게 특별한 감정을 느끼기 시작한 ‘영석’은천천히, 그리고 솔직하게 다가가기 시작한다.하지만 처음 경험해보는 사랑이 설레는 한편 가슴 아픈 ‘조제’는자신에게 찾아온 낯선 감정을 밀어내는데…기억할 거야너와 함께한 모든 순간을",
      ];
      const mv2 = [
        "원더 우먼 1984",
        "갤 가돗(다이애나/원더우먼), 크리스 파인(스티브 트레버)",
        "1984년 모든 것이 활기찬 시대, 다이애나 프린스는 고고학자로서 인간들 사이에서 조용히 살고 있다. 단지 원더 우먼으로서 위기에 처한 사람을 구할 때만 빼고는. 그런 다이애나 앞에 거짓말처럼 죽었던 스티브 트레버가 나타나고, 거부할 수 없는 적마저 함께 찾아오는데…",
      ];
      const mv3 = [
        "도굴",
        "이제훈(동구), 조우진(존스박사)",
        "흙 맛만 봐도 보물을 찾아내는 타고난 천재 도굴꾼 강동구(이제훈).자칭 한국의 '인디아나 존스'로 불리는 고분벽화 도굴 전문가 존스 박사(조우진), 전설의 삽질 달인 삽다리(임원희)를 만나 환상(?)의 팀플레이를 자랑하며 위험천만하고도 짜릿한 도굴의 판을 키운다.",
      ];

      const mv4 = [
        "공조2: 인터내셔날",
        "현빈(림철령), 유해진(강진태)",
        "남한으로 숨어든 글로벌 범죄 조직을 잡기 위해 새로운 공조 수사에 투입된 북한 형사 ‘림철령’(현빈). 수사 중의 실수로 사이버수사대로 전출됐던 남한 형사 ‘강진태’(유해진)는 광수대 복귀를 위해 모두가 기피하는 ‘철령’의 파트너를 자청한다.  이렇게 다시 공조하게 된 ‘철령’과 ‘진태’! ‘철령’과 재회한 ‘민영’(임윤아)의 마음도 불타오르는 가운데, ‘철령’과 ‘진태’는 여전히 서로의 속내를 의심하면서도 나름 그럴싸한 공조 사를 펼친다. 드디어 범죄 조직 리더인 ‘장명준’(진선규)의 은신처를 찾아내려는 찰나, 미국에서 날아온 FBI 소속 ‘잭’(다니엘 헤니)이 그들 앞에 나타나는데…!  아직도 짠내 나는 남한 형사, 여전한 엘리트 북한 형사, 그리고 FBI 소속 해외파 형사까지! 각자의 목적으로 뭉친 그들의 짜릿한 공조 수사가 시작된다!",
      ];

      const mv5 = [
        "육사오(6/45)",
        "고경표(박천우), 이이경(리용호)",
        "우연히 1등 당첨 로또를 주운 말년 병장 ‘천우’. 심장이 터질듯한 설렘도 잠시, 순간의 실수로 바람을 타고 군사분계선을 넘어간 로또. 바사삭 부서진 멘탈을 부여잡고…기필코 다시 찾아야 한다!  우연히 남쪽에서 넘어온 1등 당첨 로또를 주운 북한 병사 ‘용호’. 이거이 남조선 인민의 고혈을 쥐어 짜내는 육사오라는 종이쪼가리란 말인가? 근데 무려 당첨금이 57억이라고?!  당첨금을 눈앞에서 놓칠 위기에 처한 ‘천우’와 북에선 한낱 종이쪼가리일 뿐일 로또를 당첨금으로 바꿔야 하는 ‘용호’. 여기에 예상치 못한 멤버들(?)까지 합류하고 57억을 사수하기 위한 3:3팀이 성되는데…",
      ];

      const mv6 = [
        "더 퍼스트 슬램덩크",
        "이노우에 다케히코",
        `1억 2천만 부 베스트셀러 원작
                레전드 농구 만화 ‘슬램덩크’, 신작 영화로 탄생!
                북산고 5인방이 스크린에서 살아 움직인다!
                
                1990년부터 1996년까지 ‘주간 소년 점프’(슈에이샤)에서 연재된 만화 ‘슬램덩크’는 한 번도 농구를 해본 적 없는 풋내기 강백호가 북산고교 농구부에서 겪는 성장 스토리를 그린 작품으로 전 세계에서 사랑받은 레전드 스포츠 만화다. 손에 땀을 쥐게 만드는 실감 나는 경기 묘사와 농구에 청춘을 거는 주인공들의 모습은 많은 이들에게 뜨거운 감동과 공감을 불러일으킨 바 있다.
                
                ‘슬램덩크’는 만화책으로 처음 등장해 TV 애니메이션과 게임 등 다양한 콘텐츠로 재탄생하며 연재된 지 30년이 넘은 현재까지도 여전한 인기를 자랑한다. 특히 우리나라에서 1,450만 부 이상의 판매고를 올리며 많은 판매량을 기록했고, 90년대 발매된 구판에 이어 2000년대에 출간된 완전판도 꾸준한 인기를 얻어 만화를 보지 않은 사람들도 ‘슬램덩크’의 명대사는 알 정도로 세대를 넘나드는 높인 인지도와 대중성을 보여주고 있다.
                
                이렇듯 시간과 세대를 뛰어넘은 올타임 레전드 ‘슬램덩크’의 새로운 영화 <더 퍼스트 슬램덩크>는 원작자 이노우에 다케히코가 직접 각본과 감독에 참여해 더욱 업그레이드된 작화로 눈길을 사로잡는다. 캐릭터 각자의 개성은 유지하면서 감정이 드러나는 표정, 유니폼과 운동화의 생생한 질감, 캐릭터의 얼굴에 흐르는 땀방울까지 디테일한 표현력이 더해져 높은 완성도를 선보인다. 원작 만화 속 그림이 그대로 스크린에서 살아 움직이는 북산고 5인방과의 만남은 관객들에게 설렘으로 다가갈 전망이다.`,
      ];

      const mv7 = [
        "바빌론",
        "브래드 피트, 마고 로비",
        `모든 순간이 영화가 되는 곳ㅡ'바빌론'
            황홀하면서도 위태로운 고대 도시, '바빌론'에 비유되던 할리우드.
            '꿈' 하나만을 위해 모인 사람들이 이를 쟁취하기 위해 벌이는 강렬하면서도 매혹적인 이야기`,
      ];

      const mv8 = [
        "무빙",
        "류승룡, 한효주, 조인성, 차태현, 류승범, 김성균, 김희원, 문성근, 이정하, 고윤정, 김도훈 外",
        `초능력을 숨긴 채 현재를 살아가는 아이들과, 과거의 아픈 비밀을 숨긴 채 살아온 부모들이 시대와 세대를 넘어 닥치는 거대한 위험에 함께 맞서는 초능력 휴먼 액션 시리즈. 2023년 8월 9일부터 공개 중인 디즈니+ 오리지널 한국 드라마. 동명의 웹툰을 원작으로 한다.`,
      ];

      // 영화별 포스터이미지 경로객체
      const img_src = {
        기본: "https://img.freepik.com/premium-vector/set-of-hand-drawn-kawaii-movie-time-vector-illustration_6997-3462.jpg",
        조제: "https://t1.daumcdn.net/movie/f954c555d152096c5a3c77dab117fbe34ba65aa8",
        "원더 우먼 1984":
          "https://t1.daumcdn.net/movie/b1720df6b54fb7632590d5d05edd986a28433c9b",
        도굴: "https://t1.daumcdn.net/movie/99a4d42206a028764e86c5bff8cf0021db985223",
        "공조2: 인터내셔날":
          "https://t1.daumcdn.net/movie/36f22dea0e0a9e0e626c549ce689558160c46ed4",
        "육사오(6/45)":
          "https://t1.daumcdn.net/movie/f5c62530ef4f57a469bdb51cc065f2c47503f9d8",
        "더 퍼스트 슬램덩크":
          "https://upload.wikimedia.org/wikipedia/ko/c/ce/%EB%8D%94_%ED%8D%BC%EC%8A%A4%ED%8A%B8_%EC%8A%AC%EB%9E%A8%EB%8D%A9%ED%81%AC_%ED%8F%AC%EC%8A%A4%ED%84%B0.jpg",
        바빌론:
          "https://i.namu.wiki/i/B9FJyCEBX0NBWgO9-RyUBBhA35vTZvs5zlupdaGwbT8akX8hiXHkNreqqQGxQjUvYuoWkzzMtONJdsSxtM-EHg.webp",
        무빙: "https://image.lguplus.com/static/pc-contents/images/pogg/20230828-070217-799-9Uu0yhrL.png",
      };

      /********************************************* 
          [ 기능 요구사항 ]
          1. 영화/드라마 제목버튼을 클릭하면
          본 내용을 배열 데이터에서 선택하여
          화면에 보여준다.
          2. 버튼에 이벤트를 걸고 버튼별로 구분하여
          배열 데이터와 매칭해 준다!
          3. 부가 기능으로 영화/드라마별 포스터를
          소개박스에 오버시 따라다니게 해준다!
      *********************************************/
      // 로딩구역 호출
      window.addEventListener("load", loadFn);

      // 로딩함수
      function loadFn() {
        console.log("로딩완료!");
        // 1. 대상선정
        // 1-1. 이벤트 대상 : 버튼들 .btngo
        const btngo = document.querySelectorAll(".btngo");
        // 1-2. 변경 대상 : 데이터표시 박스 .minfo
        const minfo = document.querySelectorAll(".minfo");
        console.log(btngo, minfo);

        // 2. 이벤트 설정하기
        // 버튼 대상에 이벤트를 걸어준다!
        // forEach()메서드 사용!
        // 대상: btngo변수 (.btngo)
        btngo.forEach((ele) => {
          // ele 는 버튼요소자신
          // html컬렉션이니까 하나의 변수는
          // 요소가 전달된다!
          ele.onclick = () => {
            // 1.클릭된 버튼명
            let btxt = ele.innerText;
            console.log("버튼명:", btxt);

            // 2. 버튼명과 배열변수와 매칭하기
            // 2-1.정보변수만들기
            let mvInfo;
            // 2-2.switch문으로 변수할당하기
            switch (btxt) {
              case "조제":
                mvInfo = mv1;
                break;
              case "원더 우먼 1984":
                mvInfo = mv2;
                break;
              case "도굴":
                mvInfo = mv3;
                break;
              case "공조2: 인터내셔날":
                mvInfo = mv4;
                break;
              case "육사오(6/45)":
                mvInfo = mv5;
                break;
              case "더 퍼스트 슬램덩크":
                mvInfo = mv6;
                break;
              case "바빌론":
                mvInfo = mv7;
                break;
              case "무빙":
                mvInfo = mv8;
                break;
            } /// switch case ////

            console.log("선택데이터:", mvInfo, Array.isArray(mvInfo));

            // 3. 출력박스에 정보 배분하기
            // 선택정보 : mvInfo배열
            // 출력박스요소 : .minfo -> minfo변수
            // 배열을 forEach()메서드로 순회함!
            mvInfo.forEach((val,idx)=>{
                // val - 배열값
                // idx - 배열순번(0,1,2)
                // 배열값의 순번과 동일한
                // 순번의 요소에 출력함!
                minfo[idx].innerText = val;
            }); /// forEach /////
          }; ////// click ///////
        }); ///// forEach ////////////

        // 전달변수의 순서가 중요함!
        // btngo.forEach(
        //     (헐,할,핼)=>{
        //         console.log('1번값:',헐);
        //         console.log('2번값:',할);
        //         console.log('3번값:',핼);
        //     });

        /************************************* 
            추가기능 : .wrap 박스에 마우스 무브시
                포스터박스 포인터 따라다니기
        *************************************/
        // 1. 대상선정
        // 1-1.이벤트 대상 : .wrap
        const wrap = document.querySelector(".wrap");
        // 1-2.변경대상 :  .flying-poster
        const moving = document.querySelector(".flying-poster");

        console.log(wrap, moving);

        // 2. 이벤트 설정 + 기능구현
        // mousemove이벤트 : 요소위에 마우스 움직일때 계속 발생함
        wrap.onmousemove = (e) => {
          //e-이벤트전달변수
          // 이벤트 객체로 부터 x,y 포인터 위치값
          // event.pageX ->  x축좌표
          // event.pageY ->  y축좌표
          // 위치값 기준은 document 문서전체이며
          // x축은 왼쪽끝, y축은 상단끝이 기준임
          // 숫자는 단위표시없는 px값

          // console.log(
          //     'x:',e.pageX,'\ny:',e.pageY);

          // 변경대상의 top,left 값을 변경한다!
          moving.style.top = e.pageY + "px";
          moving.style.left = e.pageX + "px";
        }; //////// mousemove이벤트함수 //////

        // [.wrap에 마우스엔터시 포스터 보이기]
        wrap.onmouseenter = () => {
          console.log(
            "삼항연산결과:",
            minfo[0].innerText == "" ? "기본" : minfo[0].innerText
          );
          // 포스터 박스 배경이미지 초기셋팅하기
          // 영화제목박스가 비어있으면 "기본"포스터
          // 아니면 영화제목과 같은 포스터를 출력
          // 비 ? 집 : 놀이동산
          // 첫번째입력박스비었냐 ? "기본" : 포스터명
          // minfo[0]가 첫번째 입력박스임!
          moving.style.backgroundImage = `url(${
            img_src[minfo[0].innerText == "" ? "기본" : minfo[0].innerText]
          })`;
          moving.style.display = "block";
        }; //// mouseenter ////

        // [.wrap에 마우스리브시 포스터 숨기기]
        wrap.onmouseleave = () => {
          moving.style.display = "none";
        }; ///// mouseleave ////
      } //////////// loadFn 함수 ///////////
      //////////////////////////////////////

      /************************************ 
                [ 배열과 컬렉션을 위한 forEach() ]
                forEach()는 
                배열과 컬렉션을 위한 JS메서드임!
                -> ES5에서 새롭게 등장!(배열메서드!)

                1. 컬렉션에 사용시

                컬렉션.forEach(
                    function(ele,idx,obj){코드})
                ________________________________

                컬렉션.forEach(
                    (ele,idx,obj) => {코드})

                _______
                전달변수
                1) ele -> 첫번째 전달변수 : 요소자신
                2) idx -> 두번째 전달변수 : 순번
                3) obj -> 세번째 전달변수 : 전체컬렉션

                *****************************

                
                2. 배열에 사용시

                배열.forEach(
                    function(val,idx,obj){코드})
                ________________________________

                배열.forEach(
                    (val,idx,obj) => {코드})

                _______
                전달변수
                1) val -> 첫번째 전달변수 : 배열값
                2) idx -> 두번째 전달변수 : 순번
                3) obj -> 세번째 전달변수 : 전체배열

                ========================

                공통사항)
                - 전달변수의 순서와 개수가 중요함
                - 전달변수명은 어떻게 지어도 무관
                - 값이나 요소만 쓰려면 변수를 하나만씀
                - 순번까지 쓰려면 변수를 두개씀
                -> 보통 변수를 2개까지 많이 씀
                - 명령어를 사용하여 로직을 수행하는 것은
                함수 중괄호안에 코딩하면 된다!


            ************************************/
    </script>
    <style>
      .btns {
        text-align: center;
        padding: 20px;
      }

      .btns > button {
        font-size: 30px;
        font-weight: bold;
      }

      .wrap {
        max-width: 800px;
        margin: 0 auto;
        padding: 10px;
        border: 4px double #555;
        border-radius: 10px;
        font-size: 24px;
        line-height: 2;

        cursor: none;
        /* 커서 none은 마우스 포인터가 없어짐!*/
        /* 참고: https://www.w3schools.com/cssref/tryit.php?filename=trycss_cursor */
      }

      .wrap > div {
        color: #444;
      }

      h1,
      h2,
      h3 {
        text-align: center;
        border-top: 2px dashed #ccc;
        border-bottom: 2px dashed #ccc;
        font-size: 35px;
      }

      h1 + div {
        /* +형제선택자
            h1+div 앞에 형제로 h1 다음에 오는 div */
        font-size: 33px;
        font-weight: bold;
        text-align: center;
      }

      h2 + div {
        /* +형제선택자
            h2+div 앞에 형제로 h2 다음에 오는 div */
        font-size: 28px;
        font-weight: bold;
        text-align: center;
      }

      /* 정보출력박스 */
      .minfo {
        background-color: #d0ffd3;
      }

      /* 따라다니는 포스터박스 */
      .flying-poster {
        position: absolute;
        top: 0;
        left: 0;
        width: 200px;
        height: 300px;
        background: url(./images/ala1.jpg) no-repeat center/cover;

        /* 포인터위치에서 정중앙이동 */
        transform: translate(-50%, -50%);

        pointer-events: none;
        /************************************** 
            [ 포인터 이벤트 속성 ]  
            pointer-events : auto;
            -> 기본값 : 대상 요소에 이벤트 발생함
            pointer-events : none;
            -> none : 대상 요소에 이벤트 무시함
            -> 아래쪽 요소의 이벤트가 발생함!
        **************************************/

        border: 4px dashed hotpink;
        border-radius: 20px;

        /* 처음에 안보이게 하기 */
        display: none;

        /* 트랜지션 설정하기
        - 처음이동시 빨리움직이고 나중에 천천히
        ease-out 이 가장 자연스럽다! */
        transition: 0.3s ease-out;
      }
    </style>
  </head>

  <body>
    <!-- 버튼그룹 -->
    <div class="btns">
      <button class="btngo">조제</button>
      <button class="btngo">원더 우먼 1984</button>
      <button class="btngo">도굴</button>
      <button class="btngo">공조2: 인터내셔날</button> <br />
      <button class="btngo">육사오(6/45)</button>
      <button class="btngo">더 퍼스트 슬램덩크</button>
      <button class="btngo">바빌론</button>
      <button class="btngo">무빙</button>
    </div>
    <!-- 내용박스 -->
    <div class="wrap">
      <!--1.영화제목-->
      <h1>영화제목</h1>
      <div class="minfo"></div>

      <!--2.주연배우-->
      <h2>주연배우</h2>
      <div class="minfo"></div>

      <!--3.영화스토리-->
      <h3>영화스토리</h3>
      <div class="minfo"></div>

      <!-- 4.따라다니는 영화포스터 박스 -->
      <div class="flying-poster"></div>
    </div>
  </body>
</html>
