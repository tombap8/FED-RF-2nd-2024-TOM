<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS5-7. í•¨ìˆ˜ ê¸°ë³¸ ë©”ì„œë“œ : call() / apply() / bind()</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Jua&display=swap");
      body {
        background-image: linear-gradient(
          45deg,
          lightcoral,
          lightgreen,
          pink,
          lightblue
        );
        background-attachment: fixed;
        text-align: center;

        font-family: "Jua", sans-serif;
        padding-bottom: 100px;
      }
      h1 {
        font-weight: normal;
      }
      .mainTit {
        font-size: max(40px, 3vw);
      }
      .ex {
        color: aqua;
        -webkit-text-stroke: 0.5px #222;
        text-shadow: 2px 2px 2px #000000c2;
      }
      .bindWrap {
        display: flex;
        justify-content: center;
        gap: 0 100px;
      }
    </style>
    <script>
      /************************************************ 
      [      ì „ë‹¬ê°’ ì—†ì´ thisí‚¤ì›Œë“œë¡œ     ]
      [ ê°ì²´ê°’ì„ ì „ë‹¬í• ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸í•¨ìˆ˜ ]
      ______________________________________

      1. call() ë©”ì„œë“œ

       (1) ëª©ì  : 
        í•¨ìˆ˜ë‚˜ ë©”ì„œë“œì— ì „ë‹¬ë³€ìˆ˜ ì—†ì´ ê°ì²´ë¥¼ ì „ë‹¬í•¨

       (2) ì‚¬ìš©ë²• :
         - ì „ë‹¬ê°’ 1ê°œì‚¬ìš©ì‹œ : 
           í•¨ìˆ˜ëª….call(ê°ì²´)
         -> ë°›ëŠ” í•¨ìˆ˜ì—ì„œ thisí‚¤ì›Œë“œë¡œ ê°ì²´ê°’ì‚¬ìš©
         ((ì£¼ì˜)) í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” this.ë³€ìˆ˜ëª…ì€ ë°˜ë“œì‹œ
         ë³´ë‚´ì£¼ëŠ” ê°ì²´ì˜ ì†ì„±ëª…ê³¼ ì¼ì¹˜í•´ì•¼í•œë‹¤!

         - ì „ë‹¬ê°’ 2ê°œì´ìƒ ì‚¬ìš©ì‹œ : 
           í•¨ìˆ˜ëª….call(ê°ì²´, ì „ë‹¬ê°’1, ì „ë‹¬ê°’2,...)
         -> ë°›ëŠ” í•¨ìˆ˜ì—ì„œ ê°ì²´ì™¸ì— ì „ë‹¬ë³€ìˆ˜ ë³„ë„ë¡œ ì‚¬ìš©

      2. apply() ë©”ì„œë“œ : call() ë©”ì„œë“œì™€ ë™ì¼í•˜ë‚˜
        ì „ë‹¬ê°’ì„ ë°°ì—´ë¡œ ì „ë‹¬í•œë‹¤!
        í•¨ìˆ˜ëª….apply(ê°ì²´, [ì „ë‹¬ê°’1, ì „ë‹¬ê°’2,...])

        ->> call() / apply() ëŠ” ì†ì„±ì „ë‹¬ ë§¤ê°œ ë©”ì„œë“œ
        ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤!

      3. bind() ë©”ì„œë“œ
       (1) ëª©ì  : ê¸°ì¡´ ê°ì²´ ë‚´ì˜ ì†ì„±ì˜ thisë¥¼ êµì²´í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨

       (2) ì‚¬ìš©ë²• :
         - ì „ë‹¬ê°’ 1ê°œì‚¬ìš©ì‹œ : 
           í•¨ìˆ˜ëª….bind(ê°ì²´)
         -> ë°›ëŠ” í•¨ìˆ˜ì—ì„œ thisí‚¤ì›Œë“œë¡œ ê°ì²´ê°’ì‚¬ìš©í•˜ë©´
         ê¸°ì¡´ ë‚´ë¶€ì˜ ì†ì„±ì´ ì•„ë‹Œ ìƒˆë¡œìš´ ì†ì„±ê°’ìœ¼ë¡œ ëŒ€ì²´ë¨

        (3) ë‹¤ë¥¸ì‚¬ìš©

       

    *************************************************/
      // ì˜í™” ë“œë¼ë§ˆ ì—°ê²° ì£¼ì—° í‘œì‹œí•˜ê¸° //

      // ì¸ê°„ ê°ì²´ : ë©”ì„œë“œí¬í•¨ (ì†ì„±ì´ ì—†ëŠ” ê²½ìš°)
      const ì¸ê°„ = {
        ì„±ëª…: function () {
          return this.ì„± + " " + this.ëª…;
          // thisëŠ” call() / apply()ê°€ ë³´ë‚´ì¤€ ê°ì²´ë¥¼ ê°€ë¦¬í‚´
          // thisí•˜ìœ„ ì†ì„±ì€ ë³´ë‚´ì¤€ ê°ì²´ì˜ ì†ì„±ê³¼ ê°™ìŒ!
        },
      };
      // ì‚¬ëŒê°ì²´1
      const ì‚¬ëŒ1 = {
        ì„±: "ë§ˆ",
        ëª…: "ë™ì„",
      };
      // ì‚¬ëŒê°ì²´2
      const ì‚¬ëŒ2 = {
        ì„±: "ì´",
        ëª…: "ì œí›ˆ",
      };

      // ëŒ€í‘œë™ë¬¼ í‘œì‹œí•˜ê¸° ê°ì²´ ///
      const ëŒ€í‘œë™ë¬¼ = {
        ë°œí‘œ: function (ì§€ì—­, ë¶„ë¥˜) {
          // this.ë‚˜ë¼ / this.ì´ë¦„ ì€ ê°ì²´ë¡œ ë³´ë‚´ì£¼ëŠ” ì†ì„±ì„
          // ì§€ì—­ / ë¶„ë¥˜ ëŠ” ì „ë‹¬ê°’ì„ ë°›ì•„ ë³€ìˆ˜ë¡œ ì²˜ë¦¬í•¨
          return this.ë‚˜ë¼ + `(${ì§€ì—­})` + " " + this.ì´ë¦„ + `(${ë¶„ë¥˜})`;
        },
      };
      const ë™ë¬¼1 = {
        ë‚˜ë¼: "í˜¸ì£¼",
        ì´ë¦„: "ì½”ì•Œë¼",
      };
      const ë™ë¬¼2 = {
        ë‚˜ë¼: "ì¼ë³¸",
        ì´ë¦„: "ì›ìˆ­ì´",
      };

      // ì¼ë°˜í•¨ìˆ˜ call() / apply() ì‚¬ìš©í•˜ê¸° ////
      function í˜ë‚´(ì½œì½œ) {
        return this.í˜¸í˜¸ + " ê·¸ë¦¬ê³  " + this.í•˜í•˜ + " AND " + ì½œì½œ;
      }

      // ì»¬ë ‰ì…˜ì„ ë³´ë‚´ë©´ ë˜ê¸°ë„ í•¨!
      function ë…¸ë˜() {
        return "ë…¸ë˜ì œëª©ì€ " + this.title + ":" + this.id;
      }

      ////////////////////////////////////////////////////
      // ë¡œë”©êµ¬ì—­ //////////////////
      window.addEventListener("load", () => {
        // ì „ì²´ì¶œë ¥ëŒ€ìƒ : .ex
        const exBox = document.querySelectorAll(".ex");

        // 1. ì˜í™”/ë“œë¼ë§ˆ ì£¼ì—° ì¶œë ¥í•˜ê¸°
        exBox[0].innerText = "ë²”ì£„ë„ì‹œ : " + ì¸ê°„.ì„±ëª….call(ì‚¬ëŒ1);

        exBox[1].innerText = "ìˆ˜ì‚¬ë°˜ì¥ : " + ì¸ê°„.ì„±ëª….apply(ì‚¬ëŒ2);

        // 2. ë‚˜ë¼ ë™ë¬¼ ì°ê¸°
        exBox[2].innerText = ëŒ€í‘œë™ë¬¼.ë°œí‘œ.call(ë™ë¬¼1, "ì˜¤ì„¸ì•„ë‹ˆì•„", "ìœ ëŒ€ë¥˜");

        // ë°ì´í„° ë°°ì—´
        const animalData = ["ì•„ì‹œì•„", "ì˜ì¥ë¥˜"];

        exBox[3].innerText = ëŒ€í‘œë™ë¬¼.ë°œí‘œ.apply(ë™ë¬¼2, animalData);

        // 3. ì¼ë°˜í•¨ìˆ˜ call() / apply() ì‚¬ìš©í•˜ê¸°
        exBox[4].innerText = í˜ë‚´.call(
          { í˜¸í˜¸: "ê²Œë¥´ë‹ˆì¹´", í•˜í•˜: "ìš°ëŠ”ì—¬ì¸" },
          "í”¼ì¹´ì†Œ"
        );

        // íŠ¹ì´í•˜ê²Œ bìš”ì†Œë¥¼ ì„ íƒí•˜ì—¬ ë³´ë‚´ë©´ ê³¼ì—° ë ê¹Œ?
        exBox[5].innerText = ë…¸ë˜.apply(document.querySelector(".iam"));
        // HTMLì»¬ë ‰ì…˜ë„ ê°ì²´ì˜ ì¼ì¢…ì´ë‹¤!

        // ë‹¨ìˆœë°°ì—´
        const myNum = [2400, 3600, 4200, 5300, 6700];
        // -> Math.max.apply(null,myNum)

        // ê°ì²´ë°°ì—´
        const myObj = [
          {
            year: 2000,
            pay: 2400,
          },
          {
            year: 2010,
            pay: 3600,
          },
          {
            year: 2015,
            pay: 4200,
          },
          {
            year: 2020,
            pay: 5300,
          },
          {
            year: 2024,
            pay: 6700,
          },
        ];

        console.log("ì›ë˜ë°°ì—´:", myObj);
        console.log(
          "mayëŒë¦°ë°°ì—´:",
          myObj.map((v) => v.pay)
        );

        // 4. ë°°ì—´ê°’ì„ ì´ìš©í•˜ì—¬ ìˆ˜í•™í•¨ìˆ˜
        // max/min ì„ apply()ë¡œ ì ìš©í•˜ê¸°
        // apply(ì „ë‹¬ê°ì²´,ë°°ì—´)
        // -> Math.max()ì—ëŠ” ì „ë‹¬í•  ê°ì²´ê°€ ì—†ìœ¼ë¯€ë¡œ ì´ ìë¦¬ì— nullì„
        // ì¨ì„œ ì²«ë²ˆì§¸ìë¦¬ì˜ ê°’ì„ ì²˜ë¦¬í•´ì•¼í•œë‹¤!
        // ë‘ë²ˆì§¸ ìë¦¬ê°€ ì „ë‹¬ë³€ìˆ˜ ë°°ì—´ì´ ë˜ëŠ” ê²ƒì´ë‹¤!!!
        exBox[6].innerText = `ë‚´ê°€ ë°›ì•˜ë˜ ì—°ë´‰ ì¤‘ ìµœëŒ€ê°’ì€
         ${Math.max.apply(
           null,
           myObj.map((v) => v.pay)
         )}ë§Œì›ì´ë‹¤!
         ë‚´ê°€ ë°›ì•˜ë˜ ìµœì†Œì—°ë´‰ì€ 
         ${Math.min.apply(
           null,
           myObj.map((v) => v.pay)
         )}ë§Œì›ì´ì—ˆë‹¤!`;
        // map()ìœ¼ë¡œ ë°°ì—´ì˜ ê° ì£¼ì†Œì— ìˆëŠ” íŠ¹ì • ì†ì„±ê°’ì„
        // ë°°ì—´ê°’ìœ¼ë¡œ ë¦¬í„´ë°›ì•„ ì¶œë ¥í•˜ë©´ íŠ¹ì •ê°’ìœ¼ë¡œ ì´ë£¨ì–´ì§„
        // ì¼ë°˜ ë°°ì—´ì´ ë˜ì–´ì„œ ê°’ì„ ë¹„êµí•  ìˆ˜ ìˆë‹¤!

        // Math.max(ìˆ«ìë‚˜ì—´)
        // í…ŒìŠ¤íŠ¸ë°°ì—´
        let arrText = [23, 56, 12, 8, 99, 2];

        console.log(
          "23,56,12,8,99,2ì¤‘ ìµœëŒ€ê°’ì€? ",
          Math.max(23, 56, 12, 8, 99, 2)
        );

        // ë°°ì—´ì„ ì§ì ‘ì“°ë©´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤!
        console.log("ë°°ì—´ì¤‘ ìµœëŒ€ê°’ì€? ", Math.max(arrText));

        ////////////// bind() ë©”ì„œë“œ ////////////
        // ê°ì²´ì— ê¸°ì¡´ ì†ì„±ì´ ìˆì–´ì„œ thisê°€ í™•ì •ë˜ì–´ ìˆëŠ” ê²½ìš°
        // ì´ë¥¼ ë³€ê²½í•˜ì—¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ bind()ë¥¼ ì“´ë‹¤!
        const í•©ê²©ìë“¤ = {
          ì„±: "ê¹€",
          ëª…: "ì¬ì›",
          ì´ë¦„ë‹¤: function () {
            return this.ì„± + " " + this.ëª…;
          },
          ì‹œê°„ì°¨: function () {
            setTimeout(
              function () {
                exBox[9].innerText = this.ì„± + " " + this.ëª…;
                // ë¹„ë™ê¸°í˜¸ì¶œ ì‹¤í–‰ì¼ ê²½ìš° íë¡œ ì½”ë“œê°€ ì´ë™í•˜ë¯€ë¡œ
                // this ì˜ë¯¸ë¥¼ ìƒì‹¤í•˜ì—¬ ì´ë¥¼ bind(this)ë¡œ ë¬¶ì–´ì„œ
                // ë³´ë‚´ë©´ ì›í•˜ëŠ” ëŒ€ë¡œ thisë¥¼ ì½ì–´ì„œ ì‹¤í–‰í•œë‹¤!
              }.bind(this),
              2000
            );
          },
          í™”ì‚´í‘œ: function () {
            setTimeout(() => {
              exBox[10].innerText = this.ì„± + " " + this.ëª…;
              // í™”ì‚´í‘œí•¨ìˆ˜ëŠ” bind(this)ì—†ì´ë„ thisí‚¤ì›Œë“œë¥¼ ë¬¶ì–´ì„œ
              // íë¡œ ë³´ë‚´ì¤€ë‹¤!(ë‚´ë¶€ì„¤ê³„ê°€ ê·¸ë ‡ê²Œ ë˜ì–´ìˆìŒ!)
            }, 3000);
          },
        };

        const ê°œì¸1 = {
          ì„±: "ìµœ",
          ëª…: "ìˆ˜ì—°",
        };
        const ê°œì¸2 = {
          ì„±: "ì •",
          ëª…: "ì„±í˜¸",
        };
        const ê°œì¸3 = {
          ì„±: "ì´",
          ëª…: "ë‚˜ì˜",
        };

        // thisê°€ í™•ì •ëœ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ ê·¸ëƒ¥ í˜¸ì¶œí•˜ê¸°
        exBox[7].innerText = í•©ê²©ìë“¤.ì´ë¦„ë‹¤();
        // this ì˜ë¯¸ê°€ bind()ë¡œ ë¬¶ì–´ì„œ ë³´ë‚¸ ê°ì²´ë¡œ ë³€ê²½ë˜ì–´ í˜¸ì¶œí•˜ê¸°
        exBox[8].innerText = í•©ê²©ìë“¤.ì´ë¦„ë‹¤.bind(ê°œì¸1)();
        // setTimeoutìœ¼ë¡œ ì‹œê°„ì°¨ ì‹¤í–‰í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
        í•©ê²©ìë“¤.ì‹œê°„ì°¨.bind(ê°œì¸2)();
        í•©ê²©ìë“¤.í™”ì‚´í‘œ.bind(ê°œì¸3)();
      }); /////////////// load //////////////////////
    </script>
  </head>
  <body>
    <h1 class="mainTit">JS5-7. í•¨ìˆ˜ ê¸°ë³¸ ë©”ì„œë“œ : call() / apply() / bind()</h1>

    <!-- bìš”ì†Œ -->
    <b class="iam" title="í‚¬ë””ìŠ¤ëŸ½" id="í™ì•¼í™ì•¼"></b>

    <h1>ğŸ¯ call(ê°ì²´) / appply(ê°ì²´) : ê°ì²´ë©”ì„œë“œë¡œ êµ¬í˜„</h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>
      ğŸ¯ call(ê°ì²´,ì¶”ê°€ë³€ìˆ˜) / appply(ê°ì²´,[ì¶”ê°€ë³€ìˆ˜]) : ê°ì²´ë©”ì„œë“œë¡œ êµ¬í˜„
    </h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>ğŸ¯ call(ê°ì²´,ì¶”ê°€ë³€ìˆ˜) / appply(ê°ì²´,[ì¶”ê°€ë³€ìˆ˜]) : ì¼ë°˜í•¨ìˆ˜ë¡œ êµ¬í˜„</h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>ğŸ¯ Math.max.appply(null,ë°°ì—´ë³€ìˆ˜) ì‘ìš©</h1>
    <h1 class="ex"></h1>

    <h1>ğŸ¯ bind() ì‚¬ìš©ë²•</h1>
    <h1>í•©ê²©ì ëª…ë‹¨ë°œí‘œ</h1>
    <div class="bindWrap">
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
    </div>
  </body>
</html>
